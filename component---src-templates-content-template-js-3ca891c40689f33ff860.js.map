{"version":3,"sources":["webpack:///./node_modules/lodash/kebabCase.js","webpack:///./node_modules/lodash/fp/kebabCase.js","webpack:///./src/components/EditLink/EditLink.js","webpack:///./src/components/ScrollNavigation/ScrollNavigation.js","webpack:///./src/templates/copy-code-button/create-copy-buttons.js","webpack:///./src/templates/ContentTemplate.js","webpack:///./src/images/up-arrow.svg"],"names":["kebabCase","createCompounder","result","word","index","toLowerCase","module","exports","func","convert","placeholder","EditLink","_ref","part","letter","t","i18n","useTranslation","lang","language","url","React","createElement","Element","flex","className","centered","target","href","ScrollNavigation","_Component","props","_this","call","componentDidMount","headings","Array","from","document","querySelectorAll","map","i","id","innerText","classList","add","text","level","nodeName","setState","window","addEventListener","scrollHandler","scrollTimer","clearTimeout","setTimeout","scrollThreshold","scrollY","last","state","heading","elem","getElementById","offsetTop","selectedItem","loopThroughPartsNode","partsNode","currentPath","currentPartTitle","colorCode","arr","key","push","Link","style","borderColor","to","getPartTranslationPath","snakeCase","Accordion","containerClassName","color","titleStyle","backgroundColor","initiallyOpened","title","list","_inheritsLoose","_proto","prototype","componentWillUnmount","removeEventListener","this","render","tag","dirColumn","navigation","Component","defaultProps","isBrowser","undefined","ContentTemplate","handleScroll","showArrowUp","h1Title","otherTitles","links","h1","querySelector","h3","h3Arr","frontmatter","data","markdownRemark","colors","partColors","contains","onmouseover","onmouseleave","_toConsumableArray","copyCode","code","parentElement","navigator","clipboard","writeText","forEach","block","button","appendChild","createCopyButton","html","mainImage","parserOptions","replace","type","name","attribs","children","alt","src","domToReact","class","Banner","Layout","isCoursePage","SEO","description","mainSEOdescription","keywords","concat","mainSEOtags","onClick","scrollTo","top","left","behavior","ArrowToTop","backgroundImage","path","resolve","publicURL","Arrow","content","link","autoBottomMargin","SubHeader","headingLevel","Parser","PrevNext"],"mappings":"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","file":"component---src-templates-content-template-js-3ca891c40689f33ff860.js","sourcesContent":["var createCompounder = require('./_createCompounder');\n\n/**\n * Converts `string` to\n * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the kebab cased string.\n * @example\n *\n * _.kebabCase('Foo Bar');\n * // => 'foo-bar'\n *\n * _.kebabCase('fooBar');\n * // => 'foo-bar'\n *\n * _.kebabCase('__FOO_BAR__');\n * // => 'foo-bar'\n */\nvar kebabCase = createCompounder(function(result, word, index) {\n  return result + (index ? '-' : '') + word.toLowerCase();\n});\n\nmodule.exports = kebabCase;\n","var convert = require('./convert'),\n    func = convert('kebabCase', require('../kebabCase'), require('./_falseOptions'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport Element from '../Element/Element';\nimport './EditLink.scss';\n\nconst BASE_URL =\n  'https://github.com/fullstack-hy2020/fullstack-hy2020.github.io';\n\nconst EditLink = ({ part, letter }) => {\n  const { t, i18n } = useTranslation();\n  const lang = i18n.language;\n  const link = lang === 'fi' ? `osa${part}` : `part${part}`;\n\n  const url = `${BASE_URL}/edit/source/src/content/${part}/${lang}/${link}${letter}.md`;\n\n  return (\n    <Element flex className=\"container spacing\" centered>\n      <a className=\"edit-link\" target=\"__BLANK\" href={url}>\n        <span>{t('proposeChanges')}</span>\n      </a>\n    </Element>\n  );\n};\n\nEditLink.propTypes = {\n  part: PropTypes.number.isRequired,\n  letter: PropTypes.string.isRequired,\n};\n\nexport default EditLink;\n","import './ScrollNavigation.scss';\n\nimport React, { Component } from 'react';\n\nimport Accordion from '../Accordion/Accordion';\nimport Element from '../Element/Element';\nimport { Link } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport kebabCase from 'lodash/fp/kebabCase';\nimport navigation from '../../content/partnavigation/partnavigation';\nimport snakeCase from 'lodash/fp/snakeCase';\nimport getPartTranslationPath from '../../utils/getPartTranslationPath';\n\nclass ScrollNavigation extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      headings: [],\n      selectedItem: null,\n    };\n  }\n\n  componentDidMount = () => {\n    const headingList = Array.from(document.querySelectorAll('h3'));\n\n    const headings = headingList.map(i => {\n      i.id = kebabCase(i.innerText);\n      i.classList.add('offset');\n\n      return {\n        text: i.innerText,\n        id: i.id,\n        level: i.nodeName,\n      };\n    });\n\n    this.setState({ headings: headings });\n    window.addEventListener('scroll', this.scrollHandler);\n  };\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.scrollHandler);\n  }\n\n  scrollHandler = () => {\n    // Below implements 50 ms debounce\n    if (this.scrollTimer) {\n      clearTimeout(this.scrollTimer);\n    }\n\n    this.scrollTimer = setTimeout(() => {\n      const scrollThreshold = window.scrollY;\n      let last = this.state.headings[0];\n      for (const heading of this.state.headings) {\n        const elem = document.getElementById(heading.id);\n        if (elem && elem.offsetTop >= scrollThreshold) {\n          break;\n        }\n        last = heading;\n      }\n      if (this.state.selectedItem !== last.id) {\n        this.setState({\n          selectedItem: last.id,\n        });\n      }\n    }, 50);\n  };\n\n  loopThroughPartsNode = partsNode => {\n    const { headings } = this.state;\n    const {\n      part,\n      letter,\n      currentPath,\n      currentPartTitle,\n      colorCode,\n      lang,\n    } = this.props;\n    let arr = [];\n\n    for (let key in partsNode) {\n      if (currentPartTitle !== partsNode[key]) {\n        arr.push(\n          <Link\n            key={key}\n            className=\"left-navigation-link\"\n            style={{ borderColor: colorCode }}\n            to={getPartTranslationPath(\n              lang,\n              part,\n              `/${snakeCase(partsNode[key])}`\n            )}\n          >{`${key} ${partsNode[key]}`}</Link>\n        );\n      } else {\n        arr.push(\n          <Accordion\n            containerClassName=\"accordion--side-navigation\"\n            style={{ color: colorCode }}\n            titleStyle={{\n              backgroundColor: colorCode,\n              borderColor: colorCode,\n            }}\n            initiallyOpened\n            key={key}\n            title={`${letter} ${partsNode[key]}`}\n            selectedItem={this.state.selectedItem}\n            list={headings.map(i => {\n              return {\n                id: i.id,\n                href: `${currentPath}#${i.id}`,\n                text: i.text,\n              };\n            })}\n          />\n        );\n      }\n    }\n    return arr;\n  };\n\n  render() {\n    const { part } = this.props;\n\n    return (\n      <Element className=\"scroll-navigation-container\">\n        <Element className=\"scroll-navigation-container-inner\">\n          <Element\n            tag=\"ul\"\n            dirColumn\n            className={`scroll-navigation ${this.props.className}`}\n          >\n            {this.loopThroughPartsNode(navigation[this.props.lang][part])}\n          </Element>\n        </Element>\n      </Element>\n    );\n  }\n}\n\nScrollNavigation.defaultProps = {\n  className: '',\n  lang: 'fi',\n};\n\nScrollNavigation.propTypes = {\n  className: PropTypes.string,\n  lang: PropTypes.string.isRequired,\n  colorCode: PropTypes.string.isRequired,\n};\n\nexport default ScrollNavigation;\n","/*This code exports a function named createCopyButton which adds a \"copy\" button to all pre elements\n containing code snippets. The function checks if it's being run in a browser before executing \n the code, because SSR from Gatsby. In the copyCode function, it copies the text content of the code element to \n the clipboard using the Clipboard API.*/\n\nimport './copy-code-button-style.css';\n\n//Declaring a variable to check if the code is running on a browser or not.\nconst isBrowser = typeof document !== undefined;\n\n//Exporting a function that creates a copy button for pre elements containing code.\nexport function createCopyButton() {\n  //Checking if the code is running on a browser.\n  if (isBrowser) {\n    //Selecting all the pre elements containing code on the page.\n    let blocks = document.querySelectorAll('pre');\n\n    //Function to copy the text content of the code element to clipboard.\n    function copyCode() {\n      const pre = this.parentElement;\n      let code = pre.querySelectorAll('code')[0];\n      navigator.clipboard.writeText(code.innerText);\n    }\n\n    //Adding a copy button to each pre block.\n    blocks.forEach(block => {\n      let button = document.createElement('button');\n      //Adding the CSS class for the copy button style.\n      button.classList.add('copy-code-button');\n      button.innerText = 'copy';\n      button.addEventListener('click', copyCode);\n      block.appendChild(button);\n    });\n  }\n}\n","import './ContentTemplate.scss';\n\nimport React, { Component } from 'react';\n\nimport Arrow from '../components/Arrow/Arrow';\nimport ArrowToTop from '../images/up-arrow.svg';\nimport { Banner } from '../components/Banner/Banner';\nimport EditLink from '../components/EditLink/EditLink';\nimport Element from '../components/Element/Element';\nimport Layout from '../components/layout';\nimport Parser from 'html-react-parser';\nimport PrevNext from '../components/PrevNext/PrevNext';\nimport SEO from '../components/seo';\nimport ScrollNavigation from '../components/ScrollNavigation/ScrollNavigation';\nimport { SubHeader } from '../components/SubHeader/SubHeader';\nimport colors from '../colors';\nimport domToReact from 'html-react-parser/lib/dom-to-react';\nimport { graphql } from 'gatsby';\nimport mainSEOdescription from '../content/seo/mainSEOdescription';\nimport mainSEOtags from '../content/seo/mainSEOtags';\nimport navigation from '../content/partnavigation/partnavigation';\nimport { partColors } from './partColors';\nimport path from 'path';\nimport snakeCase from 'lodash/fp/snakeCase';\nimport getPartTranslationPath from '../utils/getPartTranslationPath';\nimport { createCopyButton } from './copy-code-button/create-copy-buttons';\n\n\n\nexport default class ContentTemplate extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      h1Title: '',\n      otherTitles: '',\n      showArrowUp: false,\n    };\n  }\n\n  componentDidMount() {\n    const links = Array.from(\n      document.querySelectorAll('a:not(.skip-to-content')\n    );\n    const h1 = document.querySelector('h1');\n    const h3 = document.querySelectorAll('h3');\n    const h3Arr = Array.from(h3).map(t => t.innerText);\n\n    const { frontmatter } = this.props.data.markdownRemark;\n\n    links.map(i => {\n      i.style = `border-color: ${colors[partColors[frontmatter.part]]}`;\n      !i.classList.contains('language-switcher__language') &&\n        (i.target = '_blank');\n\n      function over() {\n        i.style.backgroundColor = colors[partColors[frontmatter.part]];\n      }\n      function out() {\n        i.style.backgroundColor = 'transparent';\n      }\n\n      i.onmouseover = over;\n      i.onmouseleave = out;\n\n      return null;\n    });\n\n    this.setState({\n      h1Title: h1.innerText,\n      otherTitles: [...h3Arr],\n    });\n\n    window.addEventListener('scroll', this.handleScroll);\n    createCopyButton();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleScroll);\n  }\n\n  handleScroll = () => {\n    if (window.scrollY > 300 && !this.state.showArrowUp) {\n      this.setState({\n        showArrowUp: true,\n      });\n    } else if (window.scrollY <= 300 && this.state.showArrowUp) {\n      this.setState({\n        showArrowUp: false,\n      });\n    }\n  };\n\n  render() {\n    const { markdownRemark } = this.props.data;\n    const { frontmatter, html } = markdownRemark;\n    const { mainImage, letter, part, lang } = frontmatter;\n    const colorCode = colors[partColors[part]];\n\n    const parserOptions = {\n      replace: props => {\n        const { type, name, attribs, children } = props;\n        if (type === 'tag' && name === 'picture') {\n          const alt = children[0].attribs.alt\n            ? children[0].attribs.alt\n            : 'fullstack content';\n          return (\n            <picture>\n              <img\n                style={{ borderColor: colorCode }}\n                alt={alt}\n                src={children[0].attribs.src}\n              />\n            </picture>\n          );\n        } else if (type === 'tag' && name === 'pre') {\n          return <pre>{domToReact(children, parserOptions)}</pre>;\n        } else if (type === 'tag' && attribs.class === 'content') {\n          return (\n            <Element className=\"course-content\">\n              <Element className=\"course-content-inner\">\n                {domToReact(children, parserOptions)}\n              </Element>\n            </Element>\n          );\n        } else if (type === 'tag' && attribs.class === 'tasks') {\n          return (\n            <Banner\n              style={{\n                backgroundColor: colorCode,\n                borderColor: colorCode,\n              }}\n              className=\"spacing tasks content-banner\"\n            >\n              <Element\n                className=\"course-content\"\n                style={{\n                  borderColor: colorCode,\n                  backgroundColor: 'transparent',\n                }}\n              >\n                <Element className=\"course-content-inner\">\n                  {children.name === 'pre' ? (\n                    <pre>{domToReact(children, parserOptions)}</pre>\n                  ) : (\n                    domToReact(children, parserOptions)\n                  )}\n                </Element>\n              </Element>\n            </Banner>\n          );\n        }\n        return;\n      },\n    };\n\n    return (\n      <Layout isCoursePage={true}>\n        <SEO\n          lang={lang}\n          title={`Fullstack ${lang === 'fi' ? 'osa' : 'part'}${part} | ${\n            this.state.h1Title\n          }`}\n          description={mainSEOdescription[lang]}\n          keywords={[\n            ...mainSEOtags,\n            this.state.h1Title,\n            ...this.state.otherTitles,\n          ]}\n        />\n\n        {/* eslint-disable */}\n        {this.state.showArrowUp && (\n          <div\n            className=\"arrow-go-up\"\n            onClick={() =>\n              window.scrollTo({\n                top: 0,\n                left: 0,\n                behavior: 'smooth',\n              })\n            }\n          >\n            <img src={ArrowToTop} alt=\"arrow-up\" />\n          </div>\n        )}\n        {/* eslint-enable */}\n\n        <div className=\"course-container spacing--after\">\n          <Banner\n            className=\"part-main__banner spacing--mobile--small\"\n            backgroundColor={colorCode}\n            style={{\n              backgroundImage: `url(${path.resolve(mainImage.publicURL)})`,\n              backgroundColor: colorCode,\n            }}\n          >\n            <div className=\"container spacing--after\">\n              <Arrow\n                className=\"breadcrumb\"\n                content={[\n                  {\n                    backgroundColor: colorCode,\n                    text: 'Fullstack',\n                    link: `/${lang === 'fi' ? '' : `${lang}/`}#course-contents`,\n                  },\n                  {\n                    backgroundColor: colorCode,\n                    text: `${lang === 'fi' ? 'Osa' : 'Part'} ${part}`,\n                    link: getPartTranslationPath(lang, part),\n                  },\n                  {\n                    backgroundColor: colors['black'],\n                    text: navigation[lang][part][letter],\n                  },\n                ]}\n              />\n            </div>\n          </Banner>\n\n          <Element className=\"course\" id=\"course-main-content\">\n            <ScrollNavigation\n              part={part}\n              letter={letter}\n              lang={lang}\n              currentPartTitle={navigation[lang][part][letter]}\n              currentPath={getPartTranslationPath(\n                lang,\n                part,\n                `/${snakeCase(navigation[lang][part][letter])}`\n              )}\n              colorCode={colorCode}\n            />\n\n            <Element className=\"course-content-container\">\n              <Element className=\"course-content\" autoBottomMargin>\n                <Element className=\"course-content-inner\">\n                  <p\n                    className=\"col-1 letter\"\n                    style={{ borderColor: colorCode }}\n                  >\n                    {letter}\n                  </p>\n\n                  <SubHeader\n                    headingLevel=\"h1\"\n                    text={navigation[lang][part][letter]}\n                  />\n                </Element>\n              </Element>\n\n              {Parser(html, parserOptions)}\n            </Element>\n          </Element>\n\n          <EditLink part={part} letter={letter} lang={lang} />\n\n          <PrevNext part={part} letter={letter} lang={lang} />\n        </div>\n      </Layout>\n    );\n  }\n}\n\nexport const contentPageQuery = graphql`\n  query($part: Int!, $letter: String!, $lang: String!) {\n    markdownRemark(\n      frontmatter: {\n        part: { eq: $part }\n        letter: { eq: $letter }\n        lang: { eq: $lang }\n      }\n    ) {\n      html\n      frontmatter {\n        mainImage {\n          publicURL\n        }\n        part\n        letter\n        lang\n      }\n    }\n  }\n`;\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDQ4IDQ4Ij48dGl0bGU+aWNfYXJyb3dfdXB3YXJkXzQ4cHg8L3RpdGxlPg0KICAgIDxnIGNsYXNzPSJuYy1pY29uLXdyYXBwZXIiIGZpbGw9IiMxMTExMTEiPg0KICAgICAgICA8cGF0aCBkPSJNOCAyNGwyLjgzIDIuODNMMjIgMTUuNjZWNDBoNFYxNS42NmwxMS4xNyAxMS4xN0w0MCAyNCAyNCA4IDggMjR6Ii8+DQogICAgPC9nPg0KPC9zdmc+\""],"sourceRoot":""}